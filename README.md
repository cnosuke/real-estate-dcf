# 不動産投資 DCF 分析ツール

不動産投資の収益性を評価するための DCF（Discounted Cash Flow：割引キャッシュフロー）分析 Web アプリケーションです。モダンなフロントエンド技術を使用して構築された、使いやすく高精度な投資判断ツールを提供します。

## 🚀 特徴

- **包括的な DCF 分析**: 不動産投資のキャッシュフローを詳細に分析
- **価格パス方式対応**: 将来の物件価格推移を考慮した動的な投資価値評価
- **IRR 計算**: 内部収益率（Internal Rate of Return）の自動算出
- **レスポンシブデザイン**: PC・タブレット・スマートフォンに対応
- **直感的な UI**: shadcn/ui による美しく使いやすいインターフェース
- **リアルタイム計算**: 入力値の変更に応じて即座に結果を更新
- **詳細な設定項目**: ローン条件、マーケットリスク、税務効果などを考慮

## 📊 主要機能

### 入力項目

- **物件基本情報**: 購入価格、諸費用、賃料設定など
- **ローン設定**: 借入額、金利、返済期間の詳細設定
- **保有・売却設定**: 保有期間、売却価格、売却費用の設定
- **マーケットリスク**: 空室率、賃料上昇率、経費上昇率の考慮
- **価格推移設定**: 年間価格上昇率による物件価値の時系列変動
- **高度な設定**: 割引率、税率などの詳細パラメータ

### 分析結果

- **NPV（正味現在価値）**: 投資の絶対的価値
- **IRR（内部収益率）**: 投資の相対的収益性
- **キャッシュフロー推移**: 年度別の詳細なキャッシュフロー表
- **物件価値推移**: 価格パス方式による年度別物件価値の変遷
- **投資判定**: 設定した基準利回りとの比較による投資推奨度

## 🛠 技術スタック

- **フロントエンド**: React 19 + TypeScript
- **ルーティング**: React Router v7
- **状態管理**: Jotai
- **UI ライブラリ**: shadcn/ui + Radix UI
- **スタイリング**: Tailwind CSS
- **ビルドツール**: Vite
- **リンター**: Biome
- **パッケージマネージャー**: pnpm

## 📚 ドキュメント

詳細な理論背景や計算方法については、以下のドキュメントをご参照ください：

- [DCF 法の理論と実装](docs/dcf-theory.md) - DCF 分析の理論的背景と計算ロジック
- [IRR 計算アルゴリズム](docs/irr-calculation.md) - 内部収益率計算の実装詳細
- [不動産投資分析の基礎](docs/real-estate-analysis.md) - 不動産投資における分析手法の解説

## 🚀 はじめ方

### 前提条件

- Node.js 18 以上
- pnpm

### インストール

```bash
# リポジトリをクローン
git clone https://github.com/cnosuke/real-estate-dcf.git
cd real-estate-dcf

# 依存関係をインストール
pnpm install
```

### 開発サーバーの起動

```bash
# 開発サーバーを起動
pnpm dev

# ネットワーク経由でアクセスする場合
pnpm dev:host
```

ブラウザで `http://localhost:5173` にアクセスしてアプリケーションを確認できます。

### ビルド

```bash
# 本番用ビルド
pnpm build

# ビルド結果をプレビュー
pnpm preview
```

### コード品質チェック

```bash
# リンターでコードをチェック
pnpm lint

# リンターでコードを自動修正
pnpm lint:fix

# 型チェック
pnpm typecheck
```

## 🏗 プロジェクト構造

```
src/
├── components/          # Reactコンポーネント
│   ├── dcf/            # DCF分析関連コンポーネント
│   ├── ui/             # 再利用可能なUIコンポーネント
│   └── layout/         # レイアウトコンポーネント
├── lib/                # ユーティリティとロジック
│   ├── dcf/            # DCF計算エンジン
│   ├── validation/     # 入力値検証
│   └── errors/         # エラーハンドリング
├── types/              # TypeScript型定義
├── atoms/              # Jotai状態管理
└── pages/              # ページコンポーネント
```

## 🤝 貢献

プロジェクトへの貢献を歓迎します！以下の流れで貢献してください：

1. このリポジトリをフォーク
2. 機能ブランチを作成 (`git checkout -b feature/amazing-feature`)
3. 変更をコミット (`git commit -m 'Add some amazing feature'`)
4. ブランチをプッシュ (`git push origin feature/amazing-feature`)
5. プルリクエストを作成

### 開発ガイドライン

- TypeScript の型安全性を重視
- コンポーネントの単一責任原則を守る
- 適切なエラーハンドリングの実装
- レスポンシブデザインの維持

## 📄 ライセンス

このプロジェクトは [MIT License](LICENSE) の下で公開されています。

## ⚠️ 免責事項

このツールは不動産投資の分析支援を目的としており、投資の成功を保証するものではありません。実際の投資判断は、専門家との相談や十分な市場調査を行った上で行ってください。
